<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Seyram A. Butame">
<meta name="dcterms.date" content="2023-09-03">

<title>Historical Marker</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="20230704TT_files/libs/clipboard/clipboard.min.js"></script>
<script src="20230704TT_files/libs/quarto-html/quarto.js"></script>
<script src="20230704TT_files/libs/quarto-html/popper.min.js"></script>
<script src="20230704TT_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="20230704TT_files/libs/quarto-html/anchor.min.js"></script>
<link href="20230704TT_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="20230704TT_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="20230704TT_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="20230704TT_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="20230704TT_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


<link rel="stylesheet" href="styles.css">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#tidytuesday-week-27---historical-markers" id="toc-tidytuesday-week-27---historical-markers" class="nav-link active" data-scroll-target="#tidytuesday-week-27---historical-markers">TIDYTUESDAY Week 27 - Historical Markers</a></li>
  <li><a href="#possible-visual-representation" id="toc-possible-visual-representation" class="nav-link" data-scroll-target="#possible-visual-representation">POSSIBLE VISUAL REPRESENTATION</a></li>
  <li><a href="#libraries" id="toc-libraries" class="nav-link" data-scroll-target="#libraries">LIBRARIES</a></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">DATA</a></li>
  <li><a href="#examine-the-data" id="toc-examine-the-data" class="nav-link" data-scroll-target="#examine-the-data">EXAMINE THE DATA</a></li>
  <li><a href="#setup-the-canvas" id="toc-setup-the-canvas" class="nav-link" data-scroll-target="#setup-the-canvas">SETUP THE CANVAS</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="20230704TT.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Historical Marker</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Seyram A. Butame </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 3, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="tidytuesday-week-27---historical-markers" class="level2">
<h2 class="anchored" data-anchor-id="tidytuesday-week-27---historical-markers">TIDYTUESDAY Week 27 - Historical Markers</h2>
<p>For this week, the TidyTuesday<span class="citation" data-cites="Mock2022-tt"><sup><a href="#ref-Mock2022-tt" role="doc-biblioref">1</a></sup></span> data cames from <a href="https://www.hmdb.org/geolists.asp?c=United%20States%20of%20America">Historical Marker Database USA Index</a>. The parent website essentially tries to provide historical information through the lens “<em>of roadside and other permanent outdoor markers, monuments, and plaques</em>”. The overall tidytuesday project also contains information on places that do not have entries in the HMDB database. This is an effort to encourage us to perhaps find markers that need to be added to HMDB database. Datails on this TidyTuesday project may be found on <a href="https://github.com/rfordatascience/tidytuesday/blob/master/data/2023/2023-07-04/readme.md">Github-Rfordatascience</a>.</p>
</section>
<section id="possible-visual-representation" class="level2">
<h2 class="anchored" data-anchor-id="possible-visual-representation">POSSIBLE VISUAL REPRESENTATION</h2>
<p>Presently, I am still on a drive to create infographics. This week I want to practice a bit with mapping data. Maps can be very informative, and I have experience with them through Tableau. I would like to improve my ability with maps using R. So here we go. I am modeling my project on <a href="https://twitter.com/geokaramanis">Georgios Karamanis</a>. Karamanis is a great follow on Twitter when it comes to data visual documents and for TidyTuesday projects. Karamanis is especially good at creating visual documents in map form.</p>
<p>Personally, I am going for a standard map, something that looks like the sketch in Figure 01 (don’t mind the rough handwriting, as it is what I broadly want to create). A couple of weeks back, I created a tile map (a variation on the HEX tile map variety). In this case, it may be useful to create an actual map, as the location and proximity to things typically shown on a map are important to interpreting this data. It may also be a good idea to employ a tool such as Leaflet (or Plotly) which can add some interactivity. I will have to complete the static info-graphic and then I will consider some interaction.</p>
<figure class="img1 figure">
<img src="img/sketch.jpg" alt="Sketch for planned inforgraphic" width="45%" class="figure-img">
<figcaption class="figcap figure-caption">
Figure 1 - Sketch for planned infographic.
</figcaption>
</figure>
<p>Karamanis created the below (Figure 02) for TidyTuesday and another creator Erin Franke created the below (Figure 03). Both really great and akin to what I am thinking of doing.</p>
<div class="row">
<figure class="column figure">
<img src="img/karamanis.jpeg" alt="Infographic created by Karamanis" style="width:80%" class="figure-img">
<figcaption class="figcap figure-caption">
Figure 2 - Georgios Karamanis’s infographic.
</figcaption>
</figure>
<figure class="column figure">
<img src="img/franke.jpeg" alt="Infographic created by Franke" style="width:100%" class="figure-img">
<figcaption class="figcap figure-caption">
Figure 3 - Erin Franke’s infographic.
</figcaption>
</figure>
</div>
</section>
<section id="libraries" class="level2">
<h2 class="anchored" data-anchor-id="libraries">LIBRARIES</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytuesdayR)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(camcorder)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggtext)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Arranging plots on canvas</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cowplot)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Retrieving map boundaries</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co"># remotes::install_gitlab("dickoa/rgeoboundaries")</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rgeoboundaries)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rmapshaper)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating Maps</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpointdensity)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>I am going to keep things a bit simple use the packages I am familiar with.</p>
<ol type="1">
<li><p>First we have <code>tidyverse</code> which is my standard workhorse data wrangling suite of packages. Easy to use with an intuitive language.<span class="citation" data-cites="2019Wickham-td"><sup><a href="#ref-2019Wickham-td" role="doc-biblioref"><strong>2019Wickham-td?</strong></a></sup></span></p></li>
<li><p>The <code>sf</code> package is critical for encoding spatial vector data according to the Simple Features standard described by the Open Geospatial Consortium (OGC) and International Organization for Standardization (ISO). I have used it a bit in the past particularly for getting data to create plots in Leaflet.<span class="citation" data-cites="Pebesma2023-hl"><sup><a href="#ref-Pebesma2023-hl" role="doc-biblioref">2</a></sup></span></p></li>
<li><p>This is my introduction to the <code>skimr</code> pckage. However I have learned that it allows you to create quick summary statistics about variables in data frames, tibbles, data tables and vectors. Very handy for viewing data in the TidyTuesday data object.<span class="citation" data-cites="Waring2022-sk"><sup><a href="#ref-Waring2022-sk" role="doc-biblioref">3</a></sup></span></p></li>
<li><p>The <code>camcorder</code> package can be used to store the plots or images generated.<span class="citation" data-cites="2022Hughes-cc"><sup><a href="#ref-2022Hughes-cc" role="doc-biblioref">4</a></sup></span></p></li>
<li><p>I typically use the <code>janitor</code> package for importing data in a clean manner. The clean_names() function in particular is a favorite of mine.<span class="citation" data-cites="2023Firke-aw"><sup><a href="#ref-2023Firke-aw" role="doc-biblioref">5</a></sup></span></p></li>
<li><p>I have also included the <code>gt</code> package, which serves to create beautiful html tables. I need to become a bit more comfortable with that package.<span class="citation" data-cites="Iannnone2023-gt"><sup><a href="#ref-Iannnone2023-gt" role="doc-biblioref">6</a></sup></span></p></li>
</ol>
</section>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">DATA</h2>
<p>There are two dataframes in the data object from this week. There is: - First we have <strong>historical_markers.csv</strong>, which contains the historical markers and information data provided by the HMDB. - Secondly we have the <strong>no_markers.csv</strong>, which contains the</p>
<p>You can access the access the <a href="https://github.com/rfordatascience/tidytuesday/blob/master/data/2023/2023-07-04/readme.md">data dictionary or codebook</a> by clicking the link. I have also posted them below</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="do">## DOWNLOAD USING API [VIA TIDYTUESDAYR PACKAGE] -----</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># tuesdata &lt;- tt_load(2023, week = 27)</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># historical_markers &lt;- tuesdata$`historical_markers` %&gt;%</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   clean_names() %&gt;%</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   write_csv("data/historical_markers.csv")</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># no_markers &lt;- tuesdata$`no_markers` %&gt;%</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co">#   clean_names() %&gt;%</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co">#   write_csv("data/no_markers.csv")</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co"># ALTERNATIVE DOWNLAOD (DIRECT LINK) ----</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co"># historical_markers &lt;- read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-07-04/historical_markers.csv")</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="co">#no_markers &lt;- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-07-04/no_markers.csv')</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="do">## READ IN DATA [DOWNLOADED ALREADY USING ABOVE] ----</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/historical_markers.csv"</span>)</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/no_markers.csv"</span>)</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="do">## READ IN DATA DICTIONARIES ----</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>ddhm <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/ddhistorical_markers.csv"</span>)</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>ddnm <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/ddno_markers.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>You can access the access the <a href="https://github.com/rfordatascience/tidytuesday/blob/master/data/2023/2023-07-04/readme.md">data dictionary or codebook</a> by clicking the link. I have also posted them below</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># DISPPLAY DATA DICTIONARY [HISTORICAL MARKERS] ----</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>ddhm <span class="sc">%&gt;%</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()  <span class="sc">%&gt;%</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Historical Markers - Codebook"</span>,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"TidyTuesday Week 27 Data Dictionary"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_source_note</span>(<span class="at">source_note =</span> <span class="st">"https://github.com/rfordatascience/tidytuesday/blob/master/data/2023/2023-07-04/readme.md"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_options</span>(</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">table.font.size =</span> <span class="fu">px</span>(<span class="dv">10</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="iavcqwigyv" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#iavcqwigyv table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#iavcqwigyv thead, #iavcqwigyv tbody, #iavcqwigyv tfoot, #iavcqwigyv tr, #iavcqwigyv td, #iavcqwigyv th {
  border-style: none;
}

#iavcqwigyv p {
  margin: 0;
  padding: 0;
}

#iavcqwigyv .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 10px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#iavcqwigyv .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#iavcqwigyv .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#iavcqwigyv .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#iavcqwigyv .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#iavcqwigyv .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#iavcqwigyv .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#iavcqwigyv .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#iavcqwigyv .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#iavcqwigyv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#iavcqwigyv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#iavcqwigyv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#iavcqwigyv .gt_spanner_row {
  border-bottom-style: hidden;
}

#iavcqwigyv .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#iavcqwigyv .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#iavcqwigyv .gt_from_md > :first-child {
  margin-top: 0;
}

#iavcqwigyv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#iavcqwigyv .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#iavcqwigyv .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#iavcqwigyv .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#iavcqwigyv .gt_row_group_first td {
  border-top-width: 2px;
}

#iavcqwigyv .gt_row_group_first th {
  border-top-width: 2px;
}

#iavcqwigyv .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#iavcqwigyv .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#iavcqwigyv .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#iavcqwigyv .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#iavcqwigyv .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#iavcqwigyv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#iavcqwigyv .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#iavcqwigyv .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#iavcqwigyv .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#iavcqwigyv .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#iavcqwigyv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#iavcqwigyv .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#iavcqwigyv .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#iavcqwigyv .gt_left {
  text-align: left;
}

#iavcqwigyv .gt_center {
  text-align: center;
}

#iavcqwigyv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#iavcqwigyv .gt_font_normal {
  font-weight: normal;
}

#iavcqwigyv .gt_font_bold {
  font-weight: bold;
}

#iavcqwigyv .gt_font_italic {
  font-style: italic;
}

#iavcqwigyv .gt_super {
  font-size: 65%;
}

#iavcqwigyv .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#iavcqwigyv .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#iavcqwigyv .gt_indent_1 {
  text-indent: 5px;
}

#iavcqwigyv .gt_indent_2 {
  text-indent: 10px;
}

#iavcqwigyv .gt_indent_3 {
  text-indent: 15px;
}

#iavcqwigyv .gt_indent_4 {
  text-indent: 20px;
}

#iavcqwigyv .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="3" class="gt_heading gt_title gt_font_normal" style="">Historical Markers - Codebook</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="3" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style="">TidyTuesday Week 27 Data Dictionary</td>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="variable">variable</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="class">class</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="description">description</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="variable" class="gt_row gt_left">marker_id</td>
<td headers="class" class="gt_row gt_left">double</td>
<td headers="description" class="gt_row gt_left">Unique ID for this marker in the HMDB</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">marker_no</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">Number of this marker in the state numbering scheme.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">title</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">Main title of the marker.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">subtitle</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">Subtitle of the marker, if any.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">addl_subtitle</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">Additional subtitle text.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">year_erected</td>
<td headers="class" class="gt_row gt_left">integer</td>
<td headers="description" class="gt_row gt_left">The year in which the marker was erected.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">erected_by</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">The organization which erected the marker.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">latitude_minus_s</td>
<td headers="class" class="gt_row gt_left">double</td>
<td headers="description" class="gt_row gt_left">The latitude of the marker.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">longitude_minus_w</td>
<td headers="class" class="gt_row gt_left">double</td>
<td headers="description" class="gt_row gt_left">The longitude of the marker.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">street_address</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">The street address of the marker, if available.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">city_or_town</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">The city, town, etc in which the marker is located.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">section_or_quarter</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">The section of the city, town, etc, when available.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">county_or_parish</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">The county, parish, or similar designation in which the marker appears.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">state_or_prov</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">The state, province, territory, etc in which the marker appears.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">location</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">A description of the marker's location.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">missing</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">Whether the marker is "Reported missing" or "Confirmed missing". NA values indicate that the marker has neither been reported missing nor confirmed as missing.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">link</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">The HMDb link to the marker. Links include additional details, such as photos and topic lists to which this marker belongs.</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="3">https://github.com/rfordatascience/tidytuesday/blob/master/data/2023/2023-07-04/readme.md</td>
    </tr>
  </tfoot>
  
</table>
</div>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>ddnm <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()  <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"No Markers - Codebook"</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"TidyTuesday Week 27 Data Dictionary"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_source_note</span>(<span class="at">source_note =</span> <span class="st">"https://github.com/rfordatascience/tidytuesday/blob/master/data/2023/2023-07-04/readme.md"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_options</span>(</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">table.font.size =</span> <span class="fu">px</span>(<span class="dv">10</span>)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="dgtycaejtc" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#dgtycaejtc table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#dgtycaejtc thead, #dgtycaejtc tbody, #dgtycaejtc tfoot, #dgtycaejtc tr, #dgtycaejtc td, #dgtycaejtc th {
  border-style: none;
}

#dgtycaejtc p {
  margin: 0;
  padding: 0;
}

#dgtycaejtc .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 10px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#dgtycaejtc .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#dgtycaejtc .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#dgtycaejtc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#dgtycaejtc .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dgtycaejtc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dgtycaejtc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dgtycaejtc .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#dgtycaejtc .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#dgtycaejtc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#dgtycaejtc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#dgtycaejtc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#dgtycaejtc .gt_spanner_row {
  border-bottom-style: hidden;
}

#dgtycaejtc .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#dgtycaejtc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#dgtycaejtc .gt_from_md > :first-child {
  margin-top: 0;
}

#dgtycaejtc .gt_from_md > :last-child {
  margin-bottom: 0;
}

#dgtycaejtc .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#dgtycaejtc .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#dgtycaejtc .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#dgtycaejtc .gt_row_group_first td {
  border-top-width: 2px;
}

#dgtycaejtc .gt_row_group_first th {
  border-top-width: 2px;
}

#dgtycaejtc .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dgtycaejtc .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#dgtycaejtc .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#dgtycaejtc .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dgtycaejtc .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dgtycaejtc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#dgtycaejtc .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#dgtycaejtc .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#dgtycaejtc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dgtycaejtc .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dgtycaejtc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dgtycaejtc .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dgtycaejtc .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dgtycaejtc .gt_left {
  text-align: left;
}

#dgtycaejtc .gt_center {
  text-align: center;
}

#dgtycaejtc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#dgtycaejtc .gt_font_normal {
  font-weight: normal;
}

#dgtycaejtc .gt_font_bold {
  font-weight: bold;
}

#dgtycaejtc .gt_font_italic {
  font-style: italic;
}

#dgtycaejtc .gt_super {
  font-size: 65%;
}

#dgtycaejtc .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#dgtycaejtc .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#dgtycaejtc .gt_indent_1 {
  text-indent: 5px;
}

#dgtycaejtc .gt_indent_2 {
  text-indent: 10px;
}

#dgtycaejtc .gt_indent_3 {
  text-indent: 15px;
}

#dgtycaejtc .gt_indent_4 {
  text-indent: 20px;
}

#dgtycaejtc .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="3" class="gt_heading gt_title gt_font_normal" style="">No Markers - Codebook</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="3" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style="">TidyTuesday Week 27 Data Dictionary</td>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="variable">variable</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="class">class</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="description">description</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="variable" class="gt_row gt_left">marker_id</td>
<td headers="class" class="gt_row gt_left">double</td>
<td headers="description" class="gt_row gt_left">Unique ID for this marker in the HMDB</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">marker_no</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">Number of this marker in the state numbering scheme.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">title</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">Main title of the marker.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">subtitle</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">Subtitle of the marker, if any.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">addl_subtitle</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">Additional subtitle text.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">year_erected</td>
<td headers="class" class="gt_row gt_left">integer</td>
<td headers="description" class="gt_row gt_left">The year in which the marker was erected.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">erected_by</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">The organization which erected the marker.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">latitude_minus_s</td>
<td headers="class" class="gt_row gt_left">double</td>
<td headers="description" class="gt_row gt_left">The latitude of the marker.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">longitude_minus_w</td>
<td headers="class" class="gt_row gt_left">double</td>
<td headers="description" class="gt_row gt_left">The longitude of the marker.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">street_address</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">The street address of the marker, if available.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">city_or_town</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">The city, town, etc in which the marker is located.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">section_or_quarter</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">The section of the city, town, etc, when available.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">county_or_parish</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">The county, parish, or similar designation in which the marker appears.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">state_or_prov</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">The state, province, territory, etc in which the marker appears.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">location</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">A description of the marker's location.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">missing</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">Whether the marker is "Reported missing" or "Confirmed missing". NA values indicate that the marker has neither been reported missing nor confirmed as missing.</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">link</td>
<td headers="class" class="gt_row gt_left">character</td>
<td headers="description" class="gt_row gt_left">The HMDb link to the marker. Links include additional details, such as photos and topic lists to which this marker belongs.</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="3">https://github.com/rfordatascience/tidytuesday/blob/master/data/2023/2023-07-04/readme.md</td>
    </tr>
  </tfoot>
  
</table>
</div>
</div>
</div>
</section>
<section id="examine-the-data" class="level2">
<h2 class="anchored" data-anchor-id="examine-the-data">EXAMINE THE DATA</h2>
<p>As I noted above, I just discovered the <code>skimr</code> package and all of its capabilities. I think I will be employing it as my precursor to the data wrangling step. You can find more information about <a href="https://cran.r-project.org/web/packages/skimr/vignettes/skimr.html">using <code>skimr</code> here</a></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(df1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">df1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">42724</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">17</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">character</td>
<td style="text-align: left;">13</td>
</tr>
<tr class="odd">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 24%">
<col style="width: 12%">
<col style="width: 18%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 7%">
<col style="width: 11%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">min</th>
<th style="text-align: right;">max</th>
<th style="text-align: right;">empty</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: right;">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">marker_no</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">27207</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">title</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">38122</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">subtitle</td>
<td style="text-align: right;">31878</td>
<td style="text-align: right;">0.25</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6736</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">addl_subtitle</td>
<td style="text-align: right;">38194</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">93</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1253</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">erected_by</td>
<td style="text-align: right;">1292</td>
<td style="text-align: right;">0.97</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">500</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">8963</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">street_address</td>
<td style="text-align: right;">20189</td>
<td style="text-align: right;">0.53</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">19683</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">city_or_town</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6887</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">section_or_quarter</td>
<td style="text-align: right;">35943</td>
<td style="text-align: right;">0.16</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">43</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1639</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">county_or_parish</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1453</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">state_or_prov</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">52</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">location</td>
<td style="text-align: right;">563</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">245</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">37522</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">missing</td>
<td style="text-align: right;">41543</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">link</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">42724</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 15%">
<col style="width: 8%">
<col style="width: 12%">
<col style="width: 8%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">marker_id</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">106708.80</td>
<td style="text-align: right;">65940.89</td>
<td style="text-align: right;">12.00</td>
<td style="text-align: right;">44936.50</td>
<td style="text-align: right;">105252.00</td>
<td style="text-align: right;">163863.25</td>
<td style="text-align: right;">226438.00</td>
<td style="text-align: left;">▇▆▆▇▅</td>
</tr>
<tr class="even">
<td style="text-align: left;">year_erected</td>
<td style="text-align: right;">8038</td>
<td style="text-align: right;">0.81</td>
<td style="text-align: right;">1982.65</td>
<td style="text-align: right;">30.03</td>
<td style="text-align: right;">1852.00</td>
<td style="text-align: right;">1966.00</td>
<td style="text-align: right;">1989.00</td>
<td style="text-align: right;">2006.00</td>
<td style="text-align: right;">2023.00</td>
<td style="text-align: left;">▁▁▂▆▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">latitude_minus_s</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">35.95</td>
<td style="text-align: right;">4.52</td>
<td style="text-align: right;">18.46</td>
<td style="text-align: right;">32.69</td>
<td style="text-align: right;">35.62</td>
<td style="text-align: right;">39.12</td>
<td style="text-align: right;">64.94</td>
<td style="text-align: left;">▁▇▆▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">longitude_minus_w</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">-90.27</td>
<td style="text-align: right;">12.04</td>
<td style="text-align: right;">-159.49</td>
<td style="text-align: right;">-97.29</td>
<td style="text-align: right;">-86.26</td>
<td style="text-align: right;">-81.67</td>
<td style="text-align: right;">-66.09</td>
<td style="text-align: left;">▁▁▂▇▇</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="setup-the-canvas" class="level2">
<h2 class="anchored" data-anchor-id="setup-the-canvas">SETUP THE CANVAS</h2>
<p>We can achieve this by making use of the <code>camcorder</code> package. This part is always a bit tricky for me, because it requires some understanding of the dimensions of your infographic and how you want to display. I find myself tweaking it as I work through the data.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_record</span>(<span class="at">dir =</span> <span class="st">"plots"</span>, </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">device =</span> <span class="st">"png"</span>, </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">width =</span> <span class="dv">10</span>, </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">height =</span> <span class="dv">8</span>, </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">units =</span> <span class="st">"in"</span>, </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">dpi =</span> <span class="dv">320</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>There are a couple of different ways of creating static maps in R. For most cases you have to import the boundary data or use a shapefile. I am trying to learn how to effectively import boundary data and so I am going to use the following package: <code>rgeoboundaries</code>. With the <code>gb_adm1()</code> function from the rgeoboundaries package, you can retrieve the necessary boundary data. Then with the <code>st_transform()</code> function from the sf package you can convert the boundary data into a simple format for use in R in combination with the <code>st_crs()</code> function also from the <code>sf</code> package. Within the st_crs() function we specify the specific geospatial projection we want. In our case it will transform the spatial object to the EPSG:2163 projection. This constitutes the geospatial projection for USA. And finally, the ms_simplyfy() function from the <code>rmapshaper</code> package simplifies the polygon data. Hence we end up with a dataframe, similar to what we would get if we downloaded a shapefile and imported that for our analysis, complete with a vector contains the requisite polygon data.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># DATAFRAME CONTAINING USA POLYGON DATA ----</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>us <span class="ot">&lt;-</span> <span class="fu">gb_adm1</span>(<span class="st">"usa"</span>)<span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="fu">st_crs</span>(<span class="dv">2163</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ms_simplify</span>()</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># DATAFRAME DECADE OF MONUMENT ERECTION ----</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>df1dec <span class="ot">&lt;-</span> df1 <span class="sc">%&gt;%</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">decade =</span> year_erected <span class="sc">%/%</span> <span class="dv">10</span> <span class="sc">*</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(decade)) <span class="sc">%&gt;%</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">decade =</span> <span class="fu">if_else</span>(decade <span class="sc">&lt;</span> <span class="dv">1900</span>, <span class="st">"1850s-1890s"</span>, <span class="fu">paste0</span>(<span class="fu">as.character</span>(decade), <span class="st">"s"</span>)))</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Pay attention to the last line which does the following: If the decade variable is 1850, the if_else() function would return the string "1850s -19890s". If the decade variable is 1900, the if_else() function would return the string "1900s".</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="co"># CREATE VECTOR WITH JUST DECADES COLUMN ----</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>decades <span class="ot">&lt;-</span> <span class="fu">sort</span>(<span class="fu">unique</span>(df1dec<span class="sc">$</span>decade))</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="co"># DATAFRAME WITH MARKERS BY DECADE IN EACH STATE ----</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a><span class="co"># We are selecting the decades in which a state had at least three markers.</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>state_decade <span class="ot">&lt;-</span> df1dec <span class="sc">%&gt;%</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(decade) <span class="sc">%&gt;%</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(state_or_prov, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(<span class="at">order_by =</span> n, <span class="at">n =</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span>  <span class="co"># Selecting the top three highest "n" values</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">rev</span>(<span class="fu">row_number</span>()),</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">state_or_prov =</span> <span class="fu">if_else</span>(y <span class="sc">==</span> <span class="dv">3</span>, <span class="fu">paste0</span>(<span class="st">"**"</span>, state_or_prov, <span class="st">"**"</span>), state_or_prov),</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">nc =</span> <span class="fu">as.character</span>(scales<span class="sc">::</span><span class="fu">number</span>(n)),</span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">nc =</span> <span class="fu">if_else</span>(y <span class="sc">==</span> <span class="dv">3</span>, <span class="fu">paste0</span>(<span class="st">"**"</span>, nc, <span class="st">"**"</span>), nc)</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a><span class="do">## DENSITY PLOT (MARKERS ON MAP OF US) ----</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a><span class="co"># The below creates a scatterplot of the markers_density data, with points colored by decade. The size of the points is controlled by the size parameter. The facet_wrap function is used to create a separate plot for each decade.</span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>pl1 <span class="ot">&lt;-</span> df1dec <span class="sc">%&gt;%</span></span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_pointdensity</span>(<span class="fu">aes</span>(<span class="at">x =</span> longitude_minus_w, <span class="at">y =</span> latitude_minus_s), <span class="at">size =</span> <span class="fl">0.25</span>) <span class="sc">+</span></span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(decade))</span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>pl1</span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a><span class="co"># DATAFRAME CONTAINING DATA FROM PLOT</span></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a><span class="co"># You can extract the data from a ggplot using the ggplot_build() function.</span></span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a>df1proj <span class="ot">&lt;-</span> <span class="fu">ggplot_build</span>(pl1)<span class="sc">$</span>data[[<span class="dv">1</span>]] <span class="sc">%&gt;%</span></span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_as_sf</span>(<span class="at">crs =</span> <span class="dv">4326</span>, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="fu">st_crs</span>(<span class="dv">2163</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">facet =</span> PANEL) <span class="sc">%&gt;%</span></span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">decade =</span> decades[facet])</span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a>df1proj</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 34686 features and 10 fields
Geometry type: POINT
Dimension:     XY
Bounding box:  xmin: -5612710 ymin: -2241309 xmax: 3577055 ymax: 2915675
Projected CRS: NAD27 / US National Atlas Equal Area
First 10 features:
    colour facet group n_neighbors shape size fill alpha stroke
1  #132B43     1    -1           2    19 0.25   NA    NA    0.5
2  #132B43     1    -1           2    19 0.25   NA    NA    0.5
3  #132B43     1    -1           1    19 0.25   NA    NA    0.5
4  #56B1F7     1    -1        1243    19 0.25   NA    NA    0.5
5  #56B1F7     1    -1        1243    19 0.25   NA    NA    0.5
6  #56B1F7     1    -1        1243    19 0.25   NA    NA    0.5
7  #56B1F7     1    -1        1243    19 0.25   NA    NA    0.5
8  #56B1F7     1    -1        1243    19 0.25   NA    NA    0.5
9  #56B1F7     1    -1        1243    19 0.25   NA    NA    0.5
10 #56B1F7     1    -1        1243    19 0.25   NA    NA    0.5
                     geometry      decade
1  POINT (-1848417 -542288.4) 1850s-1890s
2  POINT (-1793976 -461971.8) 1850s-1890s
3    POINT (-1732122 -298597) 1850s-1890s
4    POINT (1345297 -1024344) 1850s-1890s
5    POINT (1343407 -1005005) 1850s-1890s
6    POINT (1342361 -1000201) 1850s-1890s
7    POINT (1343228 -1001563) 1850s-1890s
8    POINT (1342309 -1000269) 1850s-1890s
9    POINT (1342296 -1000274) 1850s-1890s
10   POINT (1342497 -1000185) 1850s-1890s</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>f1 <span class="ot">&lt;-</span> <span class="st">"Outfit"</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>f2 <span class="ot">&lt;-</span> <span class="st">"Source Serif Pro"</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>pal <span class="ot">&lt;-</span> <span class="fu">brewer.pal</span>(<span class="dv">9</span>, <span class="st">"YlOrRd"</span>)[<span class="dv">4</span><span class="sc">:</span><span class="dv">9</span>] <span class="co">#The function creates a palette of 9 colors from the YlOrRd sequential color scheme. Furthermore, it indexes into the palette to select the 5 colors from the 4th to the 9th position.</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df1proj) <span class="sc">+</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> us, <span class="at">fill =</span> <span class="st">"#F5FEFC"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">color =</span> n_neighbors), <span class="at">size =</span> <span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_richtext</span>(<span class="at">data =</span> state_decade, <span class="fu">aes</span>(<span class="at">x =</span> <span class="sc">-</span><span class="fl">1.95e6</span>, <span class="at">y =</span> <span class="sc">-</span><span class="fl">2.3e6</span> <span class="sc">+</span> y <span class="sc">*</span> <span class="fl">2e5</span>, <span class="at">label =</span> <span class="fu">paste</span>(state_or_prov, nc)), <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">size =</span> <span class="fl">2.5</span>, <span class="at">family =</span> f1, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">label.color =</span> <span class="cn">NA</span>, <span class="at">label.padding =</span> <span class="fu">unit</span>(<span class="dv">0</span>, <span class="st">"lines"</span>)) <span class="sc">+</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_gradientn</span>(<span class="at">colors =</span> pal) <span class="sc">+</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(decade)) <span class="sc">+</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_sf</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">2e6</span>, <span class="fl">2.5e6</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">2.3e6</span>, <span class="fl">0.73e6</span>)) <span class="sc">+</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>(<span class="at">base_family =</span> f1) <span class="sc">+</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"grey99"</span>, <span class="at">color =</span> <span class="cn">NA</span>),</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> f2, <span class="at">face =</span> <span class="st">"bold"</span>)</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>p</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="at">label =</span> <span class="st">"U.S. Historical Markers"</span>), <span class="at">family =</span> f2, <span class="at">size =</span> <span class="fl">9.5</span>, <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>) <span class="sc">+</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="dv">0</span>, <span class="sc">-</span><span class="fl">0.55</span>, <span class="at">label =</span> <span class="st">"Location of new historical markers in The Historical Marker</span><span class="sc">\n</span><span class="st">Database by decade erected. The 3 states with the most</span><span class="sc">\n</span><span class="st">new markers are shown for each decade."</span>), <span class="at">family =</span> f2, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">lineheight =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="dv">0</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="at">label =</span> <span class="st">"Source: The Historical Marker Database · Graphic: Georgios Karamanis"</span>), <span class="at">family =</span> f1, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">hjust =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">15</span>)) <span class="sc">+</span></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">clip =</span> <span class="st">"off"</span>) <span class="sc">+</span></span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">inset_element</span>(t, <span class="at">left =</span> <span class="fl">0.5</span>, <span class="at">right =</span> <span class="fl">0.9</span>, <span class="at">bottom =</span> <span class="fl">0.08</span>, <span class="at">top =</span> <span class="fl">0.28</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>

</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body" data-line-spacing="2" role="list">
<div id="ref-Mock2022-tt" class="csl-entry" role="listitem">
<div class="csl-left-margin">1. </div><div class="csl-right-inline">Mock, T. <a href="https://github.com/rfordatascience/tidytuesday">Tidy tuesday: A weekly data project aimed at the r ecosystem</a>. (2022).</div>
</div>
<div id="ref-Pebesma2023-hl" class="csl-entry" role="listitem">
<div class="csl-left-margin">2. </div><div class="csl-right-inline">Pebesma, E. &amp; Bivand, R. <em>Spatial data science</em>. (Chapman; Hall/CRC, 2023).</div>
</div>
<div id="ref-Waring2022-sk" class="csl-entry" role="listitem">
<div class="csl-left-margin">3. </div><div class="csl-right-inline">Waring, E. <em>et al.</em> <a href="https://CRAN.R-project.org/package=skimr">Skimr: Compact and flexible summaries of data</a>. (2022).</div>
</div>
<div id="ref-2022Hughes-cc" class="csl-entry" role="listitem">
<div class="csl-left-margin">4. </div><div class="csl-right-inline">Hughes, E. <a href="https://CRAN.R-project.org/package=camcorder">Camcorder: Record your plot history</a>. (2022).</div>
</div>
<div id="ref-2023Firke-aw" class="csl-entry" role="listitem">
<div class="csl-left-margin">5. </div><div class="csl-right-inline">Firke, S. <a href="https://CRAN.R-project.org/package=janitor">Janitor: Simple tools for examining and cleaning dirty data</a>. (2023).</div>
</div>
<div id="ref-Iannnone2023-gt" class="csl-entry" role="listitem">
<div class="csl-left-margin">6. </div><div class="csl-right-inline">Iannone, R. <em>et al.</em> <a href="https://CRAN.R-project.org/package=gt">Gt: Easily create presentation-ready display tables</a>. (2023).</div>
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>